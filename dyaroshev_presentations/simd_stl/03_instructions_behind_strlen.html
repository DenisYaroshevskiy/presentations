<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>03 instructions behind strlen</title>

		<link rel="stylesheet" href="../../dist/reset.css">
		<link rel="stylesheet" href="../../dist/reveal.css">
		<link rel="stylesheet" href="../../dist/theme/black.css">

		<script src="https://cdn.plot.ly/plotly-2.5.0.min.js"></script>
		<script> const UNSQ_EVE_COMMIT = '2cf6819dda923fc021629eda0cfba4113eb5f530'; </script>
		<script type="text/javascript"
			src="https://cdn.jsdelivr.net/gh/DenisYaroshevskiy/unsq_eve@2cf6819dda923fc021629eda0cfba4113eb5f530/scripts/bench.js"></script>

		<script src="../scripts/helper_scripts.js"></script>


		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="../../plugin/highlight/monokai.css">
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>Instructions behind strlen</section>
				<section><a href="https://godbolt.org/z/j9x1jY8ej"> strlen </a></section>
				<section>
					<h2> Versions </h2>
					<ul>
						<li> x86: sse2 - sse4.2 (avx?) </li>
						<li> x86: avx2 </li>
						<li> x86: avx-512 (*)</li>
						<li> arm: v7 </li>
						<li> arm: v8 </li>
						<li> emulation </li>
					</ul>
				</section>
				<section>
					<h2> load(aligned_s) </h2>
					<ul>
						<li> <a href="https://www.intel.com/content/www/us/en/docs/intrinsics-guide/index.html#text=_load_si&ig_expand=4292,4293"> x86</a> </li>
						<li> <a href="https://developer.arm.com/architectures/instruction-sets/intrinsics/#q=vld1q_u8">arm</a></li>
					</ul>
				</section>
				<section>
					<a href="https://en.wikichip.org/wiki/x86/avx-512"> what is avx-512 for us? </a>
				</section>
				<section>
					<h2> set 0</h2>
					<ul>
						<li>_mm*_setzero_si*</li>
				  	<li> vdupq_n_s8 </li>
				  </ul>
				</section>
				<section>
					<h2> cur == zero </h2>
					<ul>
						<li> <a href="https://www.intel.com/content/www/us/en/docs/intrinsics-guide/index.html#ig_expand=4292,4293,6251&text=cmpeq_epi8"> _mm*_cmpeq_epi8</a></li>
						<li> <a href="https://developer.arm.com/architectures/instruction-sets/intrinsics/#f:@navigationhierarchiessimdisa=[Neon]&q=vceqq_s8">vceqq_s8</a></li>
						<li> <a href="http://0x80.pl/articles/simd-strfind.html#algorithm-1-generic-simd"> 0x80 blog with avx512f </a></li>
					</ul>
				</section>
				<section> first_true = any + real_first_true </section>
				<section>
					<h2> real first true </h2>
					<ul>
						<li> get bits</li>
						<li> std::countr_zero </li>
					</ul>
				</section>
				<section>
				</section>
				<section>
						<a href="https://godbolt.org/z/441EW6soa"> top_bits</a>
				</section>
				<section>
					  <a href="https://www.intel.com/content/www/us/en/docs/intrinsics-guide/index.html#text=movemask"> movemask</a>
				</section>
				<section> <a href="https://www.intel.com/content/www/us/en/docs/intrinsics-guide/index.html"> x86 </a> </section>
				<section> <a href="https://www.intel.com/content/www/us/en/docs/intrinsics-guide/index.html"> x86 </a> </section>

			</div>
		</div>

		<script src="../../dist/reveal.js"></script>
		<script src="../../plugin/notes/notes.js"></script>
		<script src="../../plugin/markdown/markdown.js"></script>
		<script src="../../plugin/highlight/highlight.js"></script>
		<script>
			// More info about initialization & config:
			// - https://revealjs.com/initialization/
			// - https://revealjs.com/config/
			Reveal.initialize({
				hash: true,

				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
			});
		</script>
	</body>
</html>
